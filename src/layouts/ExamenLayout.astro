---
import Layout from '../layouts/Layout.astro';
import Nav from '../components/Nav.astro';
import '../styles/global.css'; // <--- AÑADE ESTO (ajusta la ruta si es necesario)

// Recibimos title, description, category, tipoExamen, y price directamente
const { 
    title, 
    description, 
    category,
    tipoExamen,
    price
} = Astro.props;

// Formateamos el precio
const formattedPrice = price ? price.toLocaleString('es-ES', { style: 'currency', currency: 'USD' }) : 'N/A';

// ❌ ELIMINAR ESTA LÍNEA si estaba presente: const Content = Astro.props.Content; 
//    (El cuerpo del MD se maneja con <slot />)
---

<Layout title={title}>
    <Nav />
    
    <main class="container mx-auto px-4 pt-24 pb-12 animate-blurred-fade-in">
        <article class="max-w-4xl mx-auto">
            
            <header class="text-center mb-10 border-b-2 border-indigo-200 pb-4">
                <p class="text-sm font-semibold uppercase text-indigo-600 mb-2">{category}</p>
                <h1 class="text-5xl font-extrabold leading-tight text-gray-900 mb-4">
                    {title}
                </h1>
                <p class="text-xl text-gray-600 italic mb-6">
                    {description}
                </p>

                <div class="flex justify-center space-x-8 mt-4">
                    <div class="p-3 bg-blue-50 border-l-4 border-blue-600 rounded-md shadow-sm">
                        <p class="text-sm font-medium text-gray-500">Tipo de Análisis</p>
                        <p class="text-lg font-bold text-blue-800">{tipoExamen}</p>
                    </div>
                    <div class="p-3 bg-green-50 border-l-4 border-green-600 rounded-md shadow-sm">
                        <p class="text-sm font-medium text-gray-500">Precio</p>
                        <p class="text-2xl font-extrabold text-green-700">{formattedPrice}</p>
                    </div>
                </div>

            </header>
            
            <div class="prose prose-lg mx-auto text-gray-700">
                <slot /> 
            </div>

            <div class="mt-12 text-center">
                <a 
                    href="/examenes" 
                    class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 transition duration-300"
                >
                    Volver a la lista de Exámenes
                </a>
            </div>
            
        </article>
    </main>
    
</Layout>

<style is:global>
    /* ... estilos ... */
</style>